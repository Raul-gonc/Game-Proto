<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>game</title>
</head>
<body>
    <div id="dadosContainer">
        <input type="text" id="nomePais1" placeholder="Nome do País 1">
        <input type="text" id="nomePais2" placeholder="Nome do País 2">
        <input type="text" id="nomePais3" placeholder="Nome do País 3">
        <input type="text" id="nomePais4" placeholder="Nome do País 4">
        <button onclick="game()">Começar Jogo</button> 
    </div>
    

    <script>
        class Pais {
            constructor(name) {
                this.name = name;
                this.hospital = {
                    tabagismo: 10,
                    hipertensao: 26.3,
                    doencas_respiratorias: 30,
                    diabetes: 6.9,
                    vacinacao: 52.1,
                    alcolismo: 16,
                    mental: 9.3,
                    n_internacoes: 7.8,
                    n_nascimentos: 1.5,
                    expectativa_de_vida: 76.2,
                    n_leitos: 3
                };
                this.prefeitura = {
                    idade_media: 35,
                    homens: 48.5,
                    mulheres: 51.5,
                    renda_media: 1893,
                    idh: 760,
                    pobreza: 5.9,
                    desemprego: 7.8,
                    população: 214000000,
                    n_vereadores: 16
                };
                this.escola = {
                    ensino_medio: 48,
                    acesso_internet: 84,
                    analfabetismo: 5.8,
                    evasao: 5.9,
                    baixo_rendimento: 59.8,
                    jovens: 402,
                    adultos: 505,
                    idosos: 93
                };
                this.academia = {
                    frequentadores: 10.8,
                    obesidade: 24.3,
                    sedentarismo: 47,
                    alimentacao_saudavel: 70
                };
                this.sec_meio_ambiente = {
                    saneamento: 56,
                    residuos: 4,
                    un_conservacao: 36,
                    qualida_aqua: 10,
                    qualidade_ar: 23,
                    coleta_seletiva: 4,
                    bioma_nativo: 28,
                    licencas: 16
                };
            }

            plusHospital(dado, opcao) {
                if (opcao == 0){
                    this.hospital[dado]++;
                }else{
                    this.hospital[dado]--;
                }
            }

            plusPrefeitura(dado, opcao) {
                if (opcao == 0){
                    this.prefeitura[dado]++;
                }else{
                    this.prefeitura[dado]--;
                }
            }

            plusEscola(dado, opcao) {
                if (opcao == 0){
                    this.escola[dado]++;
                }else{
                    this.escola[dado]--;
                }
            }

            plusAcademia(dado, opcao) {
                if (opcao == 0){
                    this.academia[dado]++;
                }else{
                    this.academia[dado]--;
                }
            }

            plusSecMeioAmbiente(dado, opcao) {
                if (opcao == 0){
                    this.sec_meio_ambiente[dado]++;
                }else{
                    this.sec_meio_ambiente[dado]--;
                }
            }

            rate() {
                let rateA = 1;
                let rateB = 1;
                let rateC = this.academia.frequentadores + this.prefeitura.n_vereadores + (100*this.prefeitura.homens/this.prefeitura.mulheres) 
                + this.hospital.expectativa_de_vida + this.hospital.n_nascimentos + (this.escola.jovens/(this.escola.jovens + this.escola.adultos +this.escola.idosos));
                let rate = rateA + 0.4*rateB + 0.1*rateC;
                return rate > 0 ? rate : 0;
            }
        }

        const paises = [];

        function game() {
            const nomePais1 = document.getElementById('nomePais1').value;
            const nomePais2 = document.getElementById('nomePais2').value;
            const nomePais3 = document.getElementById('nomePais1').value;
            const nomePais4 = document.getElementById('nomePais2').value;

            paises.push(new Pais(nomePais1));
            paises.push(new Pais(nomePais2));
            paises.push(new Pais(nomePais3));
            paises.push(new Pais(nomePais4));
            mostrarPaises()
        }

        function pais(pais) {
            dadosContainer.innerHTML = `
                <h1>${paises[pais].name}</h1>
                <h2>${paises[pais].rate()}</h2>
                <button onclick="manageEscola(${pais})">escola</button>
                <button onclick="manageAcademia(${pais})">academia</button>
                <button onclick="managePrefeitura(${pais})">prefeitua</button>
                <button onclick="manageAcademia(${pais})">secretaria de meio ambiente</button>
                <button onclick="manageHospital(${pais})">hospital</button>
                <button onclick="mostrarPaises()">paises</button>
            `;
        }

        function manageSecMeioAmbiente(pais) {
            dadosContainer.innerHTML = `
                <h1>${paises[pais].name}</h1>
                <h2>${paises[pais].rate()}</h2>
                <h3>secretaria de meio ambiente</h3>
                <button onclick="pais(${pais})">voltar</button> 
                <button onclick="mostrarPaises()">paises</button>
            `;
            for(var dado in paises[pais].sec_meio_ambiente){
                //console.log(dado)
                dadosContainer.innerHTML += `
                </br>
                <p>${dado}: ${paises[pais].sec_meio_ambiente[dado]}</p>
                <button onclick="paises[${pais}].plusSecMeioAmbiente('${dado}', 1); manageSecMeioAmbiente(${pais})">-</button>
                <button onclick="paises[${pais}].plusSecMeioAmbiente('${dado}', 0); manageSecMeioAmbiente(${pais})">+</button>
            `;
            }
        }

        function manageEscola(pais) {
            dadosContainer.innerHTML = `
                <h1>${paises[pais].name}</h1>
                <h2>${paises[pais].rate()}</h2>
                <h3>Escola</h3>
                <button onclick="pais(${pais})">voltar</button> 
                <button onclick="mostrarPaises()">paises</button>
            `;
            for(var dado in paises[pais].escola){
                //console.log(dado)
                dadosContainer.innerHTML += `
                </br>
                <p>${dado}: ${paises[pais].escola[dado]}</p>
                <button onclick="paises[${pais}].plusEscola('${dado}', 1); manageEscola(${pais})">-</button>
                <button onclick="paises[${pais}].plusEscola('${dado}', 0); manageEscola(${pais})">+</button>
            `;
            }
        }

        function manageHospital(pais) {
            dadosContainer.innerHTML = `
                <h1>${paises[pais].name}</h1>
                <h2>${paises[pais].rate()}</h2>
                <h3>Hospital</h3>
                <button onclick="pais(${pais})">voltar</button> 
                <button onclick="mostrarPaises()">paises</button>
            `;
            for(var dado in paises[pais].hospital){
                //console.log(dado)
                dadosContainer.innerHTML += `
                </br>
                <p>${dado}: ${paises[pais].hospital[dado]}</p>
                <button onclick="paises[${pais}].plusHospital('${dado}', 1); manageHospital(${pais})">-</button>
                <button onclick="paises[${pais}].plusHospital('${dado}', 0); manageHospital(${pais})">+</button>
            `;
            }
        }

        function manageAcademia(pais) {
            dadosContainer.innerHTML = `
                <h1>${paises[pais].name}</h1>
                <h2>${paises[pais].rate()}</h2>
                <h3>Academia</h3>
                <button onclick="pais(${pais})">voltar</button> 
                <button onclick="mostrarPaises()">paises</button>
            `;
            for(var dado in paises[pais].academia){
                //console.log(dado)
                dadosContainer.innerHTML += `
                </br>
                <p>${dado}: ${paises[pais].academia[dado]}</p>
                <button onclick="paises[${pais}].plusAcademia('${dado}', 1); manageAcademia(${pais})">-</button>
                <button onclick="paises[${pais}].plusAcademia('${dado}', 0); manageAcademia(${pais})">+</button>
            `;
            }
        }

        function managePrefeitura(pais) {
            dadosContainer.innerHTML = `
                <h1>${paises[pais].name}</h1>
                <h2>${paises[pais].rate()}</h2>
                <h3>Prefeitura</h3>
                <button onclick="pais(${pais})">voltar</button> 
                <button onclick="mostrarPaises()">paises</button>
            `;
            for(var dado in paises[pais].prefeitura){
                //console.log(dado)
                dadosContainer.innerHTML += `
                </br>
                <p>${dado}: ${paises[pais].prefeitura[dado]}</p>
                <button onclick="paises[${pais}].plusPrefeitura('${dado}', 1); managePrefeitura(${pais})">-</button>
                <button onclick="paises[${pais}].plusPrefeitura('${dado}', 0); managePrefeitura(${pais})">+</button>
            `;
            }
        }

        // Função para mostrar os nomes dos órgãos quando clicados
        function mostrarPaises() {
            dadosContainer.innerHTML = `
                <button onclick="pais(0)">${paises[0].name}</button> 
                <button onclick="pais(1)">${paises[1].name}</button> 
                <button onclick="pais(2)">${paises[2].name}</button> 
                <button onclick="pais(3)">${paises[3].name}</button>
            `;
        }


    </script>
</body>
</html>
